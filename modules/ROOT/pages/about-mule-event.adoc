= Mule Events
ifndef::env-site,env-github[]
include::_attributes.adoc[]
endif::[]

A Mule event contains the core information processed by the runtime. It travels through components inside your Mule app following the configured application logic.

Note that the Mule event is immutable, so every change to an instance of a Mule event results in the creation of a new instance.

A Mule event is composed of these objects:

* A Mule Message contains a message payload and its associated attributes.
* Variables are Mule event metadata that you use in your flow.

image::mule-concepts-d46f9.png[]

A Message source, such as the Scheduler, HTTP Listener, or On New or Updated File component, triggers the generation of a Mule event and dispatches that event to the flow.

image::about-mule-event-2724e.png[]

. A trigger reaches the event source.
. The event source produces a Mule event.
. The Mule event travels sequentially through the components of a flow.
. Each component interacts in a pre-defined manner with the Mule event.

== Event Creation Issues

In some cases when an issue occurs in a Message source, the component does not produce a Mule event. In such cases, the application logs an ERROR, WARN, or INFO message, but it does not produce an error object that On-Error components handle. Examples of this behavior include the following: 

Setting a path that _does not_ exist in an On New or Updated component prevents the creation of a Mule event in that flow. The component does not create or dispatch a Mule event to the flow, and there is no corresponding error object, so it is not possible to handle the error through the Error scope or use the predefined `error` variable in a DataWeave expression to select fields in an associated error object. I see xref:However, when the initial attempt to access that path from the Mule application fails, the application logs an ERROR message, such as `ERROR 2020-11-24 ... Failed to connect/reconnect ... Path '/Users/me/wrongfolder' doesn't exist. ... IllegalPathException` (shortened for readability).

Similarly, _invalid_ requests to an HTTP Listener log WARN messages about the issue but do not produce a Mule event or error object. For example, if the *Path* of the HTTP Listener component is `/api/helloworld/ada?id=a&id=b&id=1%\0x`, which is invalid, the Mule application logs a WARN message similar to the following one:

[source,txt,linenums]
----
WARN  2020-11-25 07:20:46,727 [http.listener.02 SelectorRunner] [processor: ; event: ]
      org.mule.extension.http.internal.listener.HttpListener: 'java.lang.IllegalArgumentException:
      Malformed URI: /api/helloworld/ada?id=a&id=b&id=1%\0x' occurred processing request
----

== See Also

* xref:about-mule-message.adoc[Mule Message Structure]
* xref:about-mule-variables.adoc[Variables in Mule Events]
* xref:mule-error-concept.adoc[Mule Errors]
* xref:dataweave-variables-context.adoc[Predefined Variables]
