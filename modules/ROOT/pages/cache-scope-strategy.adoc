= Set Up a Caching Strategy
ifndef::env-site,env-github[]
include::_attributes.adoc[]
endif::[]

You can create a Caching Strategy from a Cache scope properties panel or a Global Elements configuration in Anypoint Studio. Once you create a strategy, a Cache component in your flow can reference it.

Follow these steps to configure a Caching Strategy:

. Open the Caching Strategy configuration window.
+
You can open it from the Cache scope properties panel or the Caching Strategies option in the Global Elements tab within Studio:
+
image:mruntime-caching-strategy.png[caching strategy configuration]
+
. Define the *Name* of the Caching Strategy.
. Reference an *ObjectStore* or create one for the Cache scope to reference.
+
. Select a mechanism for generating a key used for storing events within the Caching Strategy:
+
* *Default*
* *Key Expression* +
A DataWeave expression (for example, `keyGenerationExpression="#[vars.requestId]"`).
+
Note that for two requests that are the same ("equal"), you need to generate the same key. Otherwise, you can get wrong results.
+
* *Key Generator* +
Requires you to implement the `com.mulesoft.mule.runtime.cache.api.key.MuleEventKeyGenerator` interface.
+
. Open the *Advanced* tab in the properties window to configure optional settings:
+
image:mruntime-caching-strategy-advanced.png[caching strategy advanced configuration]
+
* Select or create a *Response Generator*.
+
Note that this step requires that you implement the
`com.mulesoft.mule.runtime.cache.api.response.ResponseGenerator` interface.
+
* Change the *Event Copy Strategy* from Simple (the default, where data is immutable) to Serializable (where data is mutable).

////
REMOVED PER PABLO K:
* Select or create a Consumable Message Filter.
+
Note that this step requires that you implement the `com.mulesoft.mule.compatibility.core.api.routing.filter.Filter` interface.
////

== See Also

* xref:cache-scope.adoc[Cache Scope]
* xref:cache-scope-to-configure.adoc[Configure the Cache Scope]
* xref:mule-object-stores.adoc#object-store-config[Object Store Configuration]
* xref:global-elements.adoc[Global Elemets]
